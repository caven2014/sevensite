!function(t){t.backgroundVideo=function(i,e){var n={videoid:"video_background",autoplay:!0,loop:!0,preload:!0},o=this;o.settings={};var s=function(){var i="",e="",n="",s="",g=o.settings.preload,l=o.settings.autoplay,v=o.settings.loop;e=g?'preload="auto"':"",n=l?'autoplay="autoplay"':"",s=v?'loop="true"':"",i+='<video id="'+o.settings.videoid+'"'+e+n+s,o.settings.poster&&(i+=' poster="'+o.settings.poster+'" '),i+='style="display:none;position:fixed;top:0;left:0;bottom:0;right:0;z-index:-100;width:100%;height:100%;">';for(var a=0;a<o.settings.types.length;a++)i+='<source src="'+o.settings.path+o.settings.filename+"."+o.settings.types[a]+'" type="video/'+o.settings.types[a]+'" />';i+="bgvideo</video>",o.el.html(i),o.videoEl=document.getElementById(o.settings.videoid),o.$videoEl=t(o.videoEl),o.$videoEl.fadeIn(2e3),d()},d=function(){var t=g();o.$videoEl.width(t*o.settings.width),o.$videoEl.height(t*o.settings.height),void 0!==o.settings.align&&l()},g=function(){var i=t(window).width(),e=t(window).height(),n=i/e,s=o.settings.width/o.settings.height,d=e/o.settings.height;return n>=s&&(d=i/o.settings.width),d},l=function(){var i=(t(window).width()>>1)-(o.$videoEl.width()>>1)|0,e=(t(window).height()>>1)-(o.$videoEl.height()>>1)|0;return"centerXY"==o.settings.align?void o.$videoEl.css({left:i,top:e}):"centerX"==o.settings.align?void o.$videoEl.css("left",i):"centerY"==o.settings.align?void o.$videoEl.css("top",e):void 0};!function(){o.settings=t.extend({},n,e),o.el=i,s()}(),t(window).resize(function(){d()}),o.$videoEl.bind("ended",function(){this.play()})}}(jQuery);